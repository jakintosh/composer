{{define "components/workflow/column"}}
<section class="panel">
  {{template "components/ui/column_header" .Header}}

  {{if .Workflows}}
    <ul class="panel__list">
      {{range .Workflows}}
        <li class="card card--collapsible">
          <details class="collapsible">
            <summary class="collapsible__summary">
              <span class="collapsible__title">{{.DisplayName}}</span>
              {{if .ID}}
                <button type="button"
                        class="button button--accent button--sm"
                        data-open-run-modal
                        data-workflow-id="{{.ID}}"
                        data-workflow-display="{{.DisplayName}}"
                        aria-label="Start run for workflow {{.DisplayName}}">
                  Run
                </button>
              {{end}}
            </summary>
            <div class="collapsible__content">
              <p><strong>ID:</strong> {{.ID}}</p>
              <p><strong>Display Name:</strong> {{.DisplayName}}</p>
              {{if .Description}}<p><strong>Description:</strong> {{.Description}}</p>{{end}}
              {{if .Message}}<p><strong>Message:</strong> {{.Message}}</p>{{end}}
              {{if .StepNames}}
                <h3>Steps</h3>
                <ul class="data-list">
                  {{range .StepNames}}<li>{{.}}</li>{{end}}
                </ul>
              {{end}}
            </div>
          </details>
        </li>
      {{end}}
    </ul>
  {{else}}
    <p>No workflows available.</p>
  {{end}}
</section>
{{end}}
